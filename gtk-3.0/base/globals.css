/* ============================================================
   CoreUI v1.1 - GLOBAL ADAPTIVE SURFACES (Desktop Fix)
   ============================================================ */

/* 1. FONDO GENERAL (EXCEPTO EL ESCRITORIO) */
window,
.background.main-window,
.background.csd,
messagedialog {
    background-color: @bg_base !important; 
    color: @fg_main;
    opacity: 1.0 !important;
}

/* 2. EL ESCRITORIO (TRANSPARENTE PARA VER TU WALLPAPER) */
/* Eliminamos el color sólido específicamente para el nodo del desktop */
.background {
    background-color: transparent !important;
    background-image: none !important;
}

/* 3. NEMO DESKTOP (Específico para Cinnamon/Nemo) */
/* Esto asegura que los iconos del escritorio tengan texto legible */
NemoDesktopCanvas {
    color: @fg_main;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
}

/* --- PROTECCIÓN DEL SISTEMA --- */

/* Evitamos que el estado 'disabled' afecte la visibilidad del wallpaper */
.background:disabled,
NemoDesktopCanvas:disabled {
    opacity: 1.0 !important;
    background-color: transparent !important;
}

/* Aseguramos que los iconos del escritorio sigan siendo visibles 
   aunque el sistema esté ocupado */
.nemo-desktop.nemo-canvas-item:disabled {
    opacity: 0.6;
    background-color: transparent !important;
}
