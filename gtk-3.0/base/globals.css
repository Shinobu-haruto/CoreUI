/* ============================================================
   CoreUI v1.1 – GLOBAL ADAPTIVE SURFACES (GTK3 SAFE)
   ============================================================ */

/* ============================================================
 * 1. Ventanas GTK reales (SIEMPRE fondo sólido)
 * ============================================================ */

window,
window.background,
.background.csd,
dialog,
messagedialog {
    background-color: @bg_base; /* Variable corregida */
    background-image: none;
    opacity: 1.0;
}

/* Ventanas inactivas (Previene que Nemo se vuelva invisible) */
window:backdrop,
window.background:backdrop,
.background.csd:backdrop {
    background-color: @bg_base;
    opacity: 1.0;
}

/* ============================================================
 * 2. Escritorio Cinnamon (TRANSPARENTE a propósito)
 * ============================================================ */
/* Esto asegura que el fondo de pantalla se vea en el escritorio */

.cinnamon-layout-view,
#desktop-geometry,
#header-desktop {
    background-color: transparent;
    background-image: none;
}

/* ============================================================
 * 3. Nemo Desktop (iconos y texto del escritorio)
 * ============================================================ */

.nemo-desktop.nemo-canvas-item {
    color: @fg_main;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
}

/* El canvas de Nemo debe ser transparente para ver el wallpaper */
NemoDesktopCanvas {
    background-color: transparent;
}

/* ============================================================
 * 4. Protección de estados
 * ============================================================ */

NemoDesktopCanvas:disabled,
.cinnamon-layout-view:disabled {
    opacity: 1.0;
    background-color: transparent;
}
