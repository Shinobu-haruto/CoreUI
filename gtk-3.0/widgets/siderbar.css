/* ============================================================
   CoreUI v1.1 - ADAPTIVE SIDEBAR
   Estilo: Navegación HUD / Hardware-Linked
   ============================================================ */

/* Contenedor principal de navegación */
.sidebar,
.sidebar list,
.sidebar listview,
stacksidebar.sidebar list,
viewport.sidebar {
    background-color: var(--bg-alt); 
    color: var(--fg-main);            
    border: none;
}

/* Filas de navegación: Bloques de Datos Dinámicos */
.sidebar row {
    /* Sincronizado con la altura de fila del perfil (26px-28px en SD) */
    min-height: var(--row-h) !important;
    padding: 2px var(--p-side);
    border-radius: var(--ui-radius);        
    border: none;
    transition: none; 
    font-family: "Inter", sans-serif;
    font-weight: 500;
}

/* Estado: Hover (Pre-selección) */
.sidebar row:hover {
    background-color: rgba(27, 33, 29, 0.8); 
    color: #3EBFFF; 
}

/* Estado: Seleccionado (Fila Activa / Canal de Datos) */
.sidebar row:selected {
    background-color: rgba(0, 204, 204, 0.1); 
    color: var(--accent);
    /* Indicador lateral vinculado al grosor del borde */
    box-shadow: inset calc(var(--b-width) * 4) 0 0 0 var(--accent);
    font-weight: 700;
}

/* Estado: Seleccionado con Foco (Operación Activa) */
.sidebar row:selected:focus {
    background-color: var(--accent); 
    color: var(--bg-base);            
    box-shadow: none;
}

/* --- ICONOGRAFÍA TÉCNICA ESCALABLE --- */

.sidebar image {
    /* El icono se escala ligeramente según la fuente base */
    -gtk-icon-size: calc(var(--f-size) * 1.5);
    margin-right: var(--p-side);
    color: inherit;
}

/* Los iconos en la fila seleccionada brillan en Ámbar */
.sidebar row:selected image {
    color: #FFB000; 
    -gtk-icon-shadow: 0 0 calc(var(--b-width) * 5) rgba(255, 176, 0, 0.5);
}

/* --- ESTRUCTURA Y DIVISORES --- */

.sidebar separator {
    background-color: var(--border); 
    min-height: var(--b-width);
    margin: var(--sep-margin) calc(var(--p-side) / 2);
}

/* Cabeceras de sección (ej. "Dispositivos") */
.sidebar label.separator,
.sidebar list-header {
    font-family: "JetBrains Mono", monospace;
    font-size: calc(var(--f-size) - 2pt);
    font-weight: 800;
    color: var(--border);
    text-transform: uppercase;
    letter-spacing: 1.5px;
    padding: calc(var(--sep-margin) / 2) var(--p-side);
}

/* --- ESTADOS DE FONDO (Backdrop) --- */

.sidebar:backdrop {
    background-color: var(--bg-base); 
    color: var(--border);
}

.sidebar row:selected:backdrop {
    background-color: transparent;
    color: var(--border);
    box-shadow: inset calc(var(--b-width) * 2) 0 0 0 var(--border);
}
